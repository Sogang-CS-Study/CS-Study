## CS 스터디 6주차

### 메모리(Memory)
* 메모리는 컴퓨터 시스템에서 중요한 역할을 한다. 이것은 속도, 가격 및 용량의 다양한 수준으로 구성된 계층 구조를 가지고 있으며 각 수준은 특정 목적을 위한 것이다.

* CPU 레지스터는 가장 자주 이용하는 데이터를 보관하며, 캐시는 SRAM을 사용하며 CPU 부근에서 비교적 느린 메인 메모리에 저장된 데이터와 인스트럭션들의 부분집합을 준비하는 장소이다. 메인 메모리는 DRAM을 사용하며 크고 느린 디스크들에 저장된 데이터를 준비하는 데 사용되며, 이 디스크들은 네트워크로 연결된 다른 머신들의 디스크에 저장된 데이터를 위한 준비 장소이다. 또한 RAM도 메모리의 일부분이다.

* SRAM은 정적 RAM으로 더 빠르고 비싸며, 캐시 메모리로 사용된다. CPU 칩 내부 또는 외부에 장착되며, 일반적으로 테스크톱 시스템은 수십 메가바이트의 SRAM을 가진다. SRAM은 각 비트를 이중안정(bistable) 메모리 셀에 저장하며, 이중안정 본성으로 인해 SRAM 메모리 셀은 자신의 값을 전원이 공급되는 한 무한히 유지한다. SRAM은 DRAM과 달리 리프레시가 필요하지 않고 외란에 민감하지 않다. 그러나 더 많은 트랜지스터와 낮은 밀도로 더 비싸고 전력을 많이 소모한다.

* DRAM은 동적 RAM으로 메인 메모리와 그래픽 시스템의 프레임 버퍼로 사용된다. 테스크톱 시스템은 일반적으로 수백 내지 수천 메가바이트의 DRAM을 가진다. DRAM은 주기적으로 메모리의 모든 비트를 읽었다가 다시 써 주는 방식으로 리프레시해야 하며, 빛이나 전기적 잡음 같은 외란에 민감하다. SRAM과 DRAM 모두 전원이 꺼지면 정보도 잃어버리는 휘발성 성질을 갖는다.

* 비휘발성 메모리는 전력이 끊겨도 데이터를 보관해야 하므로 메모리 내부가 복잡하고 속도가 느리며 가격이 비싸다. 플래시 메모리는 디지털 카메라, MP3, USB 드라이버와 같이 전력 없이도 데이터를 보관하는 저장 장치로 사용된다. SSD는 하드 디스크 대신 사용하도록 만든 비휘발성 메모리로 가격이 비싸지만 빠른 데이터 접근 속도와 저전력 등 덕분에 개인용 컴퓨터와 노트북에서 자주 사용된다. 롬은 전력이 끊겨도 데이터를 보관하는 장점이 있지만 데이터를 한 번 저장하면 바꿀 수 없다. 이러한 특성 때문에 BIOS(Basic Input Output System)를 롬에 저장한다.

* 파일 시스템 관점에서 메모리 할당은 여러 가지 방식으로 나눌 수 있다. 연속 메모리 할당은 메모리에 데이터를 연속적으로 할당하는 방식으로, IBM 360과 같은 OS에서 사용되었다. 이 방식의 장점은 파일을 읽는 데 오버헤드가 없고 계산이 어렵지 않다는 것이지만 외부 단편화가 심각하고 파일 확장이 어렵다는 단점도 있다.

* Extent 할당 방식은 인접한 곳에 메모리 블록을 받아서 블록이 연속된 공간에 저장되도록 하는 방식이다. 이 방식의 장점은 여전히 성능이 좋고 계산이 쉽다는 것이며, 외부 단편화를 어느 정도 해결하지만 extent가 모자라면 파일이 커지는 데 제한이 있다.

* Linked Allocation은 파일을 할당할 때 linked list의 형태로 파일을 할당하여 다음 파일이 어디에 있는지 이전 노드를 통해 따라가면서 할당하는 방식이다. 이 방식의 장점은 외부 단편화가 전혀 발생하지 않고 파일의 확장이 쉽다는 것이지만 랜덤 액세스에 매우 취약하고 내부 단편화가 발생한다.

* File Allocation Table은 linked list의 한 종류로써 linked list의 정보를 개별 노드가 아닌 FAT라는 테이블이 가지고 있다. 이 방식은 외부 단편화는 해결하면서도 파일 액세스 시에 2번의 읽기 연산이 필요하다는 단점이 있다.

* Multi-Level Indexed Allocation은 파일을 할당할 때 메모리의 주소를 알 수 있게 fixed-size의 pointer block을 파일에 각각 할당해준다. 이 방식은 random access에 강하고 외부 단편화 걱정이 없으며 파일이 커지는 데 제한이 있지만 파일을 접근하는 데 파일이 커지면 속도가 느려진다.

* 운영체제의 메모리 관리에서 메모리 계층 구조는 CPU에 가까울수록 속도가 빠르고 가격이 비싸다. 메인 메모리는 CPU가 직접 접근할 수 있는 기억 장치로, 프로세스가 실행되려면 프로그램이 메인 메모리에 올라와야 한다. MMU(메모리 관리 장치)는 CPU가 메모리에 접근하는 것을 관리하는 하드웨어 부품으로, 필요한 데이터가 없을 경우 디스크에서 해당 메모리를 가져온다. 캐시 메모리는 메인 메모리와 CPU 사이에 자주 사용하는 데이터의 일부를 임시로 저장하는 기억장치로, 메인 메모리에서 읽어오는 것보다 훨씬 빠르게 내용을 읽을 수 있다.

* 가상 메모리는 물리 메모리의 크기와 관계없이 메모리를 사용할 수 있도록 지원하는 기술이다. 가상 메모리를 통해 물리 메모리의 크기와 프로세스가 올라갈 메모리의 위치를 신경 쓰지 않고 프로그래밍할 수 있다. 가상 메모리의 장점은 물리적 메모리에 제약을 받지 않으며 병행성과 CPU 이용률을 향상시킬 수 있다. 그러나 페이지 폴트가 발생하는 경우 전반적인 속도 저하가 발생한다.

### 파일 시스템
* 컴퓨터에서 파일이나 자료를 쉽게 발견 할 수 있도록, 유지, 관리하는 방법. 즉, 저장매체에는 많은 파일이 있으므로, 이러한 파일을 관리하는 방법을 말한다.

* 사용자 영역이 아닌 커널 영역에서 동작하며 파일을 빠르게 읽기, 쓰기, 삭제 등의 기본적인 기능을 원활히 수행하기 위한 목적을 갖고 있다.

* 파일 시스템은 계층적 디렉터리 구조를 가지며, 디스크 파티션 별로 하나씩 둘 수 있다. 이러한 파일 시스템의 역할은 파일 관리, 보조 저장소 관리, 파일 무결성 메커니즘, 그리고 저장된 데이터에 접근하는 방법을 제공하는 것이다.

* 파일 시스템은 주로 HDD와 메인 메모리의 속도 차를 줄이고, 파일 관리를 용이하게 하며, HDD의 용량을 효율적으로 활용하기 위해 개발되었다.

* 주요 파일 시스템으로는 Windows의 FAT(FAT12/16/32, exFAT), NTFS, Linux의 ext(ext2/3/4), Mac OS의 HFS, HFS+, 그리고 Google의 GFS(Google File System)가 있다.

* 파일 시스템은 메타 영역과 데이터 영역으로 구분된다. 메타 영역에는 파일의 이름, 위치, 크기, 시간 정보, 삭제 여부 등 파일의 정보가 포함되고, 데이터 영역에는 파일의 실제 데이터가 저장된다. 예를 들어, 윈도우 탐색기를 이용하여 파일을 검색할 때는 메타 영역을 탐색하여 파일을 찾는다.

* 파일이란 읽을 수 있는 바이트 단위의 모음을 의미하며, 파일의 이름은 INODE number, PATH, File Descriptor와 같은 다양한 형식으로 나타낼 수 있다. 파일의 이름과 위치 정보를 연결하는 방법으로 PATH와 INODE number를 사용하며, 파일 디스크립터는 파일의 위치를 메모리 안에 저장하는 방식이다.

* 물리적인 디스크 내부에 파일은 Super block, Inode bitmap, Data bitmap, Inode table, 그리고 Data block으로 구성된다. Super block는 파일 시스템에 대한 전반적인 정보를 담고 있으며, Inode bitmap은 사용 중인 Inode를 표시하는 비트맵, Data bitmap은 사용 중인 Data block을 표시하는 비트맵, Inode table은 파일의 Inode와 다양한 정보를 저장하는 테이블이며, Data block에는 파일의 실제 내용이 저장된다.

**- File과 File System**
* File은 관련 정보를 이름을 가지고 저장하며, 일반적으로 비휘발성의 보조기억장치에 저장된다. File System은 운영체제에서 파일을 관리하는 소프트웨어 부분으로, 파일과 파일의 메타데이터, 디렉토리 정보 등을 관리하며, 파일의 저장 방법과 파일 보호를 담당한다.
* 파일 시스템은 컴퓨터 시스템의 핵심 구성 요소 중 하나로, 파일 및 데이터를 효율적으로 관리하고 프로그램이 메모리를 효과적으로 활용할 수 있도록 돕는다. 따라서 파일 시스템은 컴퓨터 운영체제의 중요한 부분 중 하나이며, 사용자 및 응용 프로그램이 데이터를 저장하고 관리하는 데 필수적인 역할을 한다.

**- Directory와 Logical Disk**
* Directory 파일은 디렉토리 안에 있는 파일의 메타데이터를 내용으로 하는 파일로, 파일의 위치 정보를 직접 저장하지만 일부 데이터는 다른 곳에 저장할 수 있다. Logical Disk는 하나의 물리적인 디스크를 파티션을 통해 여러 개의 논리적인 디스크로 나눌 수 있으며, 각각의 파티션에는 file system을 설치하거나 다른 용도로 사용할 수 있다.

* Open은 파일의 메타데이터를 디스크에서 메인 메모리로 올리는 작업으로, 사용자 메모리 영역의 프로세스가 파일을 열고 파일의 위치 정보를 메모리에 저장한다. 이를 통해 파일을 읽거나 쓸 때 디스크에 직접 접근하지 않고 메모리에 저장된 파일의 내용을 활용할 수 있다.

* 파일 시스템의 Mounting은 다른 파일 시스템에 접근할 수 있게 하기 위해 사용되며, 특정 디렉토리 이름을 다른 파티션의 파일 시스템의 루트에 연결시키는 것을 의미한다.

**- File System Implementation**
* 파일 시스템의 구현 방식에는 Contiguous Allocation, Linked Allocation, Indexed Allocation 등 여러 가지가 있다.

* Contiguous Allocation은 파일이 연속적으로 저장되는 방식으로, 외부 조각이 발생할 수 있지만 빠른 I/O가 가능하다.

* Linked Allocation은 파일의 시작 위치만 가지고 있고 다음 위치를 기록해놓는 방식이며, 외부 조각이 발생하지 않지만 순차 접근만 가능하다.

* Indexed Allocation은 직접 접근이 가능하도록 한 블록에 인덱스 정보를 저장하는 방식으로, 작은 파일에 비효율적일 수 있지만 직접 접근이 가능하다.

* 파일 시스템은 비어있는 파일들과 삭제된 파일을 관리하기 위해 Free Space List를 유지하며, 이 리스트에서 사용 가능한 공간을 찾아서 새로운 파일을 저장한다.

* 파일 시스템에서의 보안은 사용자 인증, 접근 권한 및 암호화 등을 통해 보호된다. 사용자 인증은 사용자가 파일 시스템에 로그인 할 때 사용자 이름과 비밀번호를 확인하는 과정이며, 접근 권한은 파일이나 디렉토리에 대한 읽기, 쓰기 및 실행 권한을 지정하는 것이다. 암호화는 데이터를 저장하거나 전송하는 동안 데이터를 암호화하여 보안을 강화하는 기술을 말한다.


### 키(Key) 정리
데이터베이스에서 키(Key)는 중요한 개념으로, 데이터의 무결성을 유지하고 관계형 데이터베이스에서 튜플을 식별하는 데 사용된다. 이러한 키들은 데이터베이스 설계와 무결성 유지에 중요한 역할을 하며, 각각의 특징과 사용 사례에 따라 적절한 선택이 필요하다.

**1. 슈퍼키(Super Key):** 슈퍼키는 릴레이션 내의 튜플을 고유하게 식별할 수 있는 하나 이상의 속성(Attributes)들의 집합이다. 슈퍼키는 유일성만을 만족하며 최소성은 만족하지 않는다. 다시 말해, 슈퍼키 중에서 최소한의 속성으로 튜플을 식별할 수 있는 것이 후보키가 된다.

**2. 후보키(Candidate Key):** 후보키는 실제로 기본키가 될 수 있는 키를 말한다. 후보키는 유일성과 최소성을 모두 만족해야 한다. 테이블에서 각 튜플을 구별하는 데 기준이 되며, 기본 키와 대체 키를 합친 키이다. 

**3. 기본키(Primary Key):** 기본키는 테이블 내에서 특정 튜플을 유일하게 식별하는 주요 키이다. 기본키로 선택된 속성은 유일성과 최소성을 모두 만족하며, NULL 값을 가질 수 없다. 기본키는 주로 릴레이션의 주 키로 사용된다.

**4. 대체키(Alternative Key):** 대체키는 후보키 중에서 기본키로 선택되지 않은 나머지 후보키를 나타낸다. 다시 말해, 기본키가 될 수 없는 후보키이다.

**5. 외래키(Foreign Key):** 외래키는 한 테이블과 다른 테이블 간의 관계를 나타내는 키로, 다른 테이블의 기본키를 참조하는 역할을 한다. 외래키는 참조되는 테이블의 기본키와 대응되며, 릴레이션 간의 참조 관계를 구현하는 데 사용된다.

### SQL - 기본
* SQL(Structured Query Language)은 데이터베이스 관리 시스템(DBMS)에서 데이터를 관리하고 조작하는 언어로, 기본적으로 DDL(Data Definition Language), DML(Data Manipulation Language), DCL(Data Control Language)로 구분된다.

**1. DDL(Data Definition Language) - 데이터 정의 언어**

* DDL은 데이터베이스 구조를 정의하거나 변경하는데 사용된다.

**CREATE:** 데이터베이스, 테이블, 뷰 등을 생성하는 역할을 한다.

**ALTER:** 테이블 구조를 수정하는 데 사용된다. 컬럼 추가, 삭제, 제약 조건 변경 등이 가능하다.

**DROP:** 데이터베이스, 테이블, 뷰 등을 삭제한다. 테이블을 삭제할 때는 데이터도 함께 삭제된다.

**2. DML(Data Manipulation Language) - 데이터 조작 언어**

* DML은 데이터베이스에 저장된 데이터를 조회, 추가, 수정, 삭제하는 데 사용되며 주요 DML 명령어는 다음과 같다.

**SELECT:** 데이터베이스에서 데이터를 조회하는 명령어로, 특정 컬럼이나 조건에 따라 데이터를 검색할 수 있다.

**INSERT:** 새로운 데이터를 데이터베이스에 추가한다. 특정 테이블에 값을 삽입한다.

**UPDATE:** 이미 저장된 데이터를 수정한다. 조건에 따라 데이터를 업데이트할 수 있다.

**DELETE:** 데이터베이스에서 데이터를 삭제한다. 특정 조건에 맞는 데이터를 제거한다.

**- 문법 작성 순서**
1. SELECT 컬럼명
2. FROM 테이블명
3. WHERE 조건식
4. GROUP BY 컬럼명
5. HAVING 조건식
6. ORDER BY 컬럼명

**3. DCL(Data Control Language) - 데이터 제어 언어**

* DCL은 데이터베이스의 무결성, 보안, 권한 등을 관리하는 데 사용되며 중요한 DCL 명령어는 다음과 같다.

**COMMIT:** 데이터베이스 조작 작업을 완료하고 결과를 저장한다.

**ROLLBACK:** 데이터베이스 조작 작업을 이전 상태로 되돌린다.

**GRANT:** 데이터베이스 사용자에게 권한을 부여한다.

**REVOKE:** 부여된 권한을 회수한다.


### SQL - JOIN

### SQL Injection
* SQL injection은 악의적인 사용자가 웹 애플리케이션의 보안 취약점을 이용하여 데이터베이스에 악의적인 SQL 쿼리를 주입하고 실행하여 데이터베이스를 조작하거나 정보를 빼내는 공격 형태이다. 이러한 공격은 OWASP Top10 중에서도 매우 중요한 공격으로 분류되며, 공격이 비교적 쉬운 편이며 성공하면 큰 피해를 입힐 수 있는 공격이다.

* SQL Injection의 다양한 방법 중에서 Error Based SQL Injection과 Union Based SQL Injection, 그리고 Blind Based SQL Injection이 주로 사용된다.

* Error Based SQL Injection은 시스템에서 발생하는 에러 메시지를 이용하여 공격하는 방법으로, 공격자는 입력 폼에 특정 SQL 쿼리를 주입하여 에러를 유발하고 데이터베이스 정보를 추출하거나 조작한다.

* Union Based SQL Injection은 UNION 연산자를 이용하여 두 개의 쿼리를 합쳐서 결과를 얻어내는 방법이다. 공격자는 UNION 연산자를 이용하여 데이터베이스 정보를 탈취하거나 원하는 쿼리를 실행시킨다.

* Blind Based SQL Injection은 데이터베이스의 응답 결과를 통해 값을 추측하는 방법으로, 공격자는 시간 딜레이나 응답 차이를 통해 정보를 유추한다.

* SQL Injection은 웹 보안에 중요한 문제이므로 적절한 대응 방안을 마련하여 웹 애플리케이션을 보호해야 한다.SQL Injection을 방어하기 위해서는 입력 값에 대한 검증이 필요하며, 화이트리스트 기반으로 검증해야 하고 블랙리스트 기반은 취약점을 남길 수 있으므로 피해야 한다. Prepared Statement 구문을 사용하여 입력 값을 문자열로 인식하게 하고, Error Message를 노출하지 않도록 조치해야 한다. 또한 웹 방화벽을 사용하는 것도 한 방어 방법이다.


### SQL vs NoSQL
**SQL (RDBMS)**
* SQL은 관계형 데이터베이스 관리 시스템(RDBMS)에서 사용되는 특수 목적의 프로그래밍 언어이다.
* RDBMS는 데이터를 테이블과 열, 칼럼의 형태로 저장하며, 대표적인 RDBMS로는 MySQL, 오라클 데이터베이스, PostgreSQL 등이 있다.
* SQL를 사용하여 여러 테이블 간의 관계를 이용하여 데이터를 합칠 수 있다.
* 데이터 무결성을 보장하며, ACID(Atomicity, Consistency, Isolation, Durability)를 통해 데이터 일관성과 안정성을 보장한다.
* 데이터 구조가 고정되어 있어 구조화된 데이터 처리에 적합하다.
* 관계형 데이터 모델을 사용하고, 정형화된 데이터를 처리하는 데 주로 사용된다.

**NoSQL**
* NoSQL은 비관계형 데이터베이스로, 다양한 데이터 모델을 제공하며, 스키마 없이 사용 가능하거나 느슨한 스키마를 제공하는 저장소를 말한다.
* NoSQL 데이터베이스는 비정형 데이터, 대량의 분산된 데이터를 저장하고 조회하는 데 특화되어 있으며, 스키마가 유연하게 적용된다.
* NoSQL 데이터베이스에는 여러 종류가 있으며, 각각의 종류마다 특성이 다르다. Key-Value 모델, Document 모델, Column 모델, 그래프 모델 등이 있다.
* 일반적으로 NoSQL 데이터베이스는 분산 환경에서 빠른 처리와 확장성을 제공하며, 대용량 데이터 처리에 적합하다.
NoSQL 데이터베이스는 관계형 데이터베이스의 제약을 벗어나 유연성과 확장성을 강조한다.

**SQL vs NoSQL 비교**
* SQL은 데이터 흐름의 안정성을 보장하고, 데이터가 구조화되어 있으며 일관성이 있는 경우에 적합하다.
* NoSQL은 구조가 없는 대용량의 데이터를 다루거나 데이터 구조가 자주 변하는 경우에 적합하다.
* SQL 데이터베이스는 ACID 트랜잭션을 지원하며, 데이터 일관성을 보장한다.
* NoSQL 데이터베이스는 분산 환경에서 확장성을 강조하며, 빠른 처리를 제공한다.
* SQL 데이터베이스는 주로 정형화된 데이터 처리에 사용되며, NoSQL은 비정형 데이터나 대용량 데이터 처리에 주로 사용된다.

### 레디스(Redis)
* 레디스(Redis)는 메모리 기반의 데이터 관리 시스템으로, 모든 데이터를 메모리에 저장하고 빠르게 조회할 수 있는 특징을 가지고 있으며, 다양한 데이터 구조를 지원한다. 이러한 특징으로 Redis는 캐시 시스템으로 사용되면서도 영속성과 다양한 자료구조를 활용할 수 있다.

* Redis는 NoSQL 데이터베이스 중에서도 Key-Value 타입의 저장소로 분류되며, 다양한 자료형을 지원한다. 이러한 다양한 자료형은 데이터를 형식에 구애받지 않고 처리할 수 있게 하며, 읽기 성능을 향상시킨다.

* 또한 Redis는 인메모리 데이터 저장소로서 모든 데이터를 메모리에 저장하고 있다가 필요할 때 디스크에 기록하는 AOF(Append Only File) 및 스냅샷(snapshotting) 방식을 활용하여 영속성을 보장한다. 이로써 Redis는 빠른 속도와 영속성을 함께 제공하며, 데이터베이스, 캐시, 메시지 브로커 등 다양한 용도로 사용된다.

* 또한 Redis는 메모리 관리 측면에서도 주의해야 한다. 메모리 파편화와 가상 메모리의 Swap 문제를 고려해야 하며, 특히 swap 사용은 성능 저하를 가져올 수 있다. Redis는 Master-Replica 형태로 클러스터링되어 고가용성을 확보하며, Replication을 통해 데이터를 복제한다. 단, fork를 사용할 때는 메모리 사용량에 주의해야 한다.

* Redis의 빠른 성능은 주목받는데, 이는 모든 데이터를 메모리에 저장하고 있어 데이터에 빠르게 접근할 수 있기 때문이다. 이러한 메모리 기반의 특성은 개발의 편의성을 높이고, 데이터 정렬과 같은 작업을 간편하게 처리할 수 있도록 도와준다. 예를 들어, 정렬이 필요한 상황에서 Redis의 Sorted-Set 자료구조를 사용하면 데이터를 더 효율적으로 정렬할 수 있다.

* 이러한 특징들로 Redis는 빠른 속도, 다양한 자료구조, 영속성을 갖춘 메모리 기반 데이터 관리 시스템으로 다양한 애플리케이션에서 활용된다.

### ORM(Object-Relational Mapping)
--- 

